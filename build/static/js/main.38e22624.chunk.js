(window["webpackJsonptag-followr"]=window["webpackJsonptag-followr"]||[]).push([[0],{30:function(e,t,a){},54:function(e,t,a){e.exports=a.p+"static/media/trendFinderLogo.e590b8e7.png"},66:function(e,t,a){e.exports=a(81)},71:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),i=a.n(s),o=(a(71),a(13)),c=a(11),l=a(14),u=a(15),m=a(16),d=(a(30),a(12)),h=a(113),p=a(118),f=a(121),g=a(54),b=a.n(g),E=a(120),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).addAccount=function(){if(""!==a.state.username&&""!==a.state.password){var e={username:a.state.username,password:a.state.password,id:0};fetch("https://trendfinder.azurewebsites.net/api/Accounts",{body:JSON.stringify(e),headers:{Accept:"text/plain","Content-Type":"application/json"},method:"POST"}).then(function(e){if(e.ok)return e.json();throw new Error("Username already exists.")}).then(function(e){alert("Successfully created account for: "+e.username),a.props.login(a.state.username,!1)}).catch(function(e){alert("Error in operation: "+e.message)})}else alert("Please enter in valid credidentials.")},a.state={username:"",password:""},a.handleUsername=a.handleUsername.bind(Object(d.a)(a)),a.handlePassword=a.handlePassword.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleClick=a.handleClick.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){this.addAccount(),e.preventDefault()}},{key:"handleClick",value:function(){this.props.create()}},{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(p.a,{label:"Username",type:"text",margin:"normal",variant:"filled",value:this.state.username,onChange:this.handleUsername,className:"Login-Dets"}),r.a.createElement(p.a,{label:"Password",type:"password",margin:"normal",variant:"filled",value:this.state.password,onChange:this.handlePassword,className:"Login-Dets"}),r.a.createElement(f.a,{variant:"contained",type:"submit",value:"submit",className:"Login-Button"},"Confirm")),r.a.createElement(f.a,{onClick:this.handleClick,fullWidth:!0,style:{position:"absolute",bottom:"0px"}},"Back"))}}]),t}(r.a.Component),w=a(114),j=a(57),y=a.n(j),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).createAccount=function(){var e={username:a.state.name,password:a.state.userID,id:0};fetch("https://trendfinder.azurewebsites.net/api/Accounts",{body:JSON.stringify(e),headers:{Accept:"text/plain","Content-Type":"application/json"},method:"POST"}).then(function(e){if(e.ok)return e.json();throw new Error("Username already exists.")}).then(function(e){alert("Successfully created account for: "+e.username)}).catch(function(e){alert("Error in operation: "+e.message)}),a.props.fbLogin(a.state.name,!0)},a.responseFacebook=function(e){a.setState({isLoggedIn:!0,userID:e.userID,name:e.name,email:e.email,picture:e.picture.data.url})},a.state={isLoggedIn:!1,userID:"",name:"",email:"",picture:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{appId:"432668367326645",autoLoad:!1,fields:"name,email,picture",callback:this.responseFacebook}))}}]),t}(r.a.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",createAccount:!1},a.handleUsername=a.handleUsername.bind(Object(d.a)(a)),a.handlePassword=a.handlePassword.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.createAccount=a.createAccount.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;""===this.state.username||""===this.state.password?alert("Please type in something."):fetch("https://trendfinder.azurewebsites.net/api/Accounts/"+this.state.username+"?password="+this.state.password,{method:"GET"}).then(function(e){return e.json()}).then(function(e){e?t.props.login(t.state.username,!1):alert("Invalid credidentials. Please try again!")}),e.preventDefault()}},{key:"createAccount",value:function(){!1===this.state.createAccount?this.setState({username:"",password:"",createAccount:!0}):this.setState({username:"",password:"",createAccount:!1})}},{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement(h.a,{className:"Login-Form"},!this.state.createAccount&&r.a.createElement(E.a,null,r.a.createElement("img",{src:b.a,className:"Logo-Img"}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(w.a,{container:!0,spacing:1,justify:"center",alignItems:"center"},r.a.createElement(w.a,{container:!0,item:!0,xs:12,spacing:3},r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(p.a,{label:"Username",type:"text",margin:"normal",variant:"filled",value:this.state.username,onChange:this.handleUsername})),r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(p.a,{label:"Password",type:"password",margin:"normal",variant:"filled",value:this.state.password,onChange:this.handlePassword}))),r.a.createElement(f.a,{type:"submit",value:"submit",fullWidth:!0},"Login"),r.a.createElement(O,{fbLogin:this.props.login}),r.a.createElement(f.a,{onClick:this.createAccount,fullWidth:!0},"Create Account")))),this.state.createAccount&&r.a.createElement(v,{login:this.props.login,create:this.createAccount})))}}]),t}(r.a.Component),C=a(58),S=a.n(C),L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,null,r.a.createElement(w.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(w.a,{item:!0,xs:1},r.a.createElement(f.a,{onClick:function(){e.props.getFavourites()}},"Favourites")),r.a.createElement(w.a,{item:!0,xs:1},r.a.createElement(f.a,{onClick:function(){e.props.changeGenre("music")}},"Music")),r.a.createElement(w.a,{item:!0,xs:1},r.a.createElement(f.a,{onClick:function(){e.props.changeGenre("gaming")}},"Gaming")),r.a.createElement(w.a,{item:!0,xs:1},r.a.createElement(f.a,{onClick:function(){e.props.changeGenre("film")}},"Film")),r.a.createElement(w.a,{item:!0,xs:1},r.a.createElement(f.a,{onClick:function(){e.props.changeGenre("comedy")}},"Comedy")),r.a.createElement(w.a,{item:!0,xs:1},r.a.createElement(f.a,{onClick:function(){e.props.changeGenre("automotive")}},"Automotive")),r.a.createElement(w.a,{item:!0,xs:1},r.a.createElement(f.a,{onClick:function(){e.props.changeGenre("animals")}},"Animals"))))}}]),t}(r.a.Component),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getTrendingVideos=function(){fetch("https://trendfinder.azurewebsites.net/api/Videos/getTrending/"+a.state.genre,{method:"GET"}).then(function(e){return e.json()}).then(function(e){a.setState({idList:e})})},a.storeVideo=function(e){var t={url:"https://www.youtube.com/watch?v="+e,favID:a.props.user};fetch("https://trendfinder.azurewebsites.net/api/Videos",{body:JSON.stringify(t),headers:{Accept:"text/plain","Content-Type":"application/json"},method:"POST"}).then(function(t){if(t.ok)return alert("The video id: "+e+" has been added to this user's favourites: "+a.props.user),t.json();throw new Error}).catch(function(e){console.log("Error in operation:"+e.message)})},a.deleteVideo=function(e){fetch("https://trendfinder.azurewebsites.net/api/Videos/"+a.props.user+"?watchId="+e,{method:"DELETE"}).then(function(t){if(t.ok)return alert("The video id: "+e+" has been deleted from user: "+a.props.user),t.json();throw console.log(t.json()),new Error}).catch(function(e){console.log("Error in operation:"+e.message)})},a.getFavourites=function(){fetch("https://trendfinder.azurewebsites.net/favourites?username="+a.props.user,{method:"GET"}).then(function(e){if(e.ok)return e.json();throw new Error}).then(function(e){a.setState({idList:e})}).catch(function(e){console.log("error in here: "+e.message)}),a.setState({genre:"favourites"})},a.addVideos=function(){return a.state.idList.map(function(e){return r.a.createElement(w.a,{item:!0,xs:4},r.a.createElement(h.a,null,r.a.createElement("div",{className:"React-Wrapper"},r.a.createElement(S.a,{url:"https://www.youtube.com/watch?v="+e,playing:!1,width:"100%",height:"100%"})),"favourites"!=a.state.genre&&r.a.createElement(f.a,{fullWidth:!0,onClick:function(){return a.storeVideo(e)}},e),"favourites"===a.state.genre&&r.a.createElement(f.a,{fullWidth:!0,onClick:function(){return a.deleteVideo(e)}},e)))})},a.changeGenre=function(e){a.setState({genre:e},function(){return a.getTrendingVideos()})},a.state={genre:"music",isPlaying:!1,idList:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getTrendingVideos()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{m:4},r.a.createElement(L,{changeGenre:this.changeGenre,getFavourites:this.getFavourites})),r.a.createElement(E.a,{m:2},r.a.createElement(w.a,{container:!0,spacing:1,justify:"center",alignItems:"center"},r.a.createElement(w.a,{container:!0,item:!0,xs:12,spacing:3},this.addVideos()))))}}]),t}(r.a.Component),x=a(115),I=a(116),P=a(117),T=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement(x.a,{position:"static",className:"Heading"},r.a.createElement(I.a,null,""!=this.props.user&&r.a.createElement(P.a,null,"Hello, ",this.props.user))))}}]),t}(r.a.Component),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).Login=function(e,t,n){t?a.setState({isLoggedIn:!0,user:e}):(alert("Facebook is false."),a.setState({isLoggedIn:!0,user:e}))},a.state={isLoggedIn:!1,user:"",facebook:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(T,{user:this.state.user}),!this.state.isLoggedIn&&r.a.createElement("div",{className:"Login-Form"},r.a.createElement(k,{login:this.Login})),this.state.isLoggedIn&&r.a.createElement("div",null,r.a.createElement(A,{user:this.state.user}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[66,1,2]]]);
//# sourceMappingURL=main.38e22624.chunk.js.map